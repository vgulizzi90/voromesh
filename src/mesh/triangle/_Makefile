
include config.mk

c_src := triangle.c \
	tricall.c
c_obj := $(patsubst %.c,%.o,$(c_src))

obj := $(addprefix $(BUILD_DIR)/,$(c_obj))

all:
	$(MAKE) libtriangle.a

$(BUILD_DIR)/%.o: $(SRC_DIR)/%.c
	$(CC) $(CC_FLAGS) $(CC_DEFS) -c $< -o $@

libtriangle.a: $(obj)
	rm -f libtriangle.a
	ar rs libtriangle.a $^

clean:
	rm -f $(obj) libtriangle.a

.PHONY: all clean